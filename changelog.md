# 更新日志

## v4.4.1

### 新增功能

- 启动时支持直接运行复数调度队列
- 适配 MAA 长期开放剿灭关卡
- 新增完成任务后自动复原脚本配置
- 通用脚本启动附加命令添加额外的语法以适应UI可执行文件与任务可执行文件不同的情况
- 新增 Go_Updater 独立更新器
- AUTO_MAA 配置分享中心上线
- 通用脚本支持在选定的时机自动更新配置文件

### 修复BUG

- 修复计划表未能按照鹰历获取关卡号的问题
- 添加强制关机功能并优化关机流程
- 日志读取添加兜底机制
- 修复 MAA 掉落物统计功能
- 修复模拟器界面被异常关闭且无法重新打开的问题

### 程序优化

- 优化调度队列配置逻辑
- 优化静默进程标记逻辑，避免未能及时移除导致相关功能持续开启
- MAA 代理时更新改为强制开启
- 移除 MAA 详细配置模式中的剿灭项
- 小文件配置信息转移至AUTO_MAA自建服务
- 重构日志记录，载入更多日志记录项
- 优化日志监看启停逻辑
- SpinBox 和 TimeEdit 组件忽视滚轮事件

## v4.4.0

### 新增功能

- 通用调度模块上线
- 添加导入导出通用配置功能
- 添加重置管理密钥功能

### 修复BUG

- 信任系统证书，并添加网络代理地址配置项 #50
- 适配 MAA 任务及基建设施日志翻译
- 适配 MAA 备选关卡字段修改
- 适配 `Mirror酱` 平台下载策略调整
- 修复了程序BUG较少的BUG

### 程序优化

- 重构历史记录保存与载入逻辑
- `GameId`字段改为 `Stage`，与 MAA 保持一致
- 子线程卡死不再阻塞调度任务

## v4.3.12

### 新增功能

- 更换全新默认主页图
- 适配 MAA 无`Default`配置情况 #52
- 公招喜报模板优化
- 支持使用命令行调用
- 森空岛签到功能上线

### 修复BUG

- 修复更新动作重复执行问题
- 修复删除计划表引发的错误

### 程序优化

- 静默模式控制时段延长至模拟器完成启动的10s后
- 使用 keyboard 模块替代 pyautogui 模块
- Mirror 酱链接添加`source`字段，用于标识来源
- 优化下载器测速中止条件

## v4.3.9

## 新增功能

- 语音功能上线

### 修复bug

- 修复网络模块子线程未及时销毁导致的程序崩溃

- 修复语音包禁忌二重奏

- 网络模块支持并发请求

- 修复中止任务时程序异常卡顿

## 程序优化

- 非UI组件转为`QObject`类

## v4.3.8

### 新增功能

- 吐司通知在主窗口隐藏时不再弹出
- 支持为每一个用户执行独立通知
- 输入文本框适配文本插入操作
- 计划表功能上线
- 静默控制时长从全任务内缩短至搜索ADB时段内
- UI界面添加自动日常代理任务序列设置项
- 用户仪表盘支持直接控制用户状态
- 添加ADB端口号宽幅适配能力
- 自定义基建显示配置名称 #46
- 主调度台添加仅一次电源任务

### 修复bug

- 修复雷电模拟器静默模式无法正常识别模拟器是否隐藏相关问题
- 修复雷电ADB端口号相关问题
- 日志分析忽略MAA超时提示
- 电源相关选项改为所有任务完成后生效
- 适配MAAv5.16.3的ADB报错信息更改

### 程序优化

- 配置类定义方法优化
- UI样式优化，进一步适配win10主题

## v4.3.7

### 新增功能

- 下载器支持完整mirrorc列表

### 程序优化

- 重构更新逻辑，去除独立更新器

## v4.3.6

### 新增功能

- 适配MAA连战次数`AUTO`模式
- release中添加安装程序
- 下载器仅支持调用Mirror酱
- 新增`无人值守模式`
- 单次自动代理任务中，已完成的子任务在重复执行时不再启用

### 修复BUG

- 修复详细模式下非定时自定义基建无法正常换班的问题
- 修复Mirror酱更新检查报错不显示详细信息的问题
- 修复软件窗口最大化异常问题
- 修复异常操作导致窗口离开屏幕后难以复原的问题
- 修正剩余理智关卡文案
- 修复隐藏到托盘时，托盘无法退出主程序的问题
- 修复Server酱网络异常导致的卡死问题

### 程序优化

- 主窗口显示版本号

## v4.3.5

### 新增功能

- 用户设置中新增连战次数与剩余理智关卡两项配置项
- 支持自动代理时更新MAA #42

### 修复BUG

- 适配MAAv5.16.0基建模式
- 适配自定义基建自动轮换功能
- 修复无法建立网络连接时软件卡死问题

### 程序优化

- 移除增效任务
- 模拟器路径适配快捷方式

## v4.3.4

### 新增功能
- 主调度台支持直接启动多开调度台
- 历史记录添加`按周合并`、`按月合并`功能
- 新增MAA稳定版更新提醒
- 开始任务前自动释放ADB端口

### 修复BUG

- 同步到MAAv5.15.4的tasks目录结构变化
- 修复历史记录选项卡无法回收的问题
- 修复启动时运行主任务的历史记录与完成后任务异常
- 修复更新时主程序退出不彻底
- 修复更新器使用mirrorc下载时删除已弃用的文件卡死

### 程序优化

- 历史记录保留时间选项扩展
- 历史记录添加`选中最近一月`、`选中最近一周`选项与打开日志文件所在目录功能
- 历史记录转为自行搜索
- 历史记录时间条目排序规则优化
- MAA报错判定结果文案拆分优化
- ADB路径与模拟器路径添加报错提示
- ADB路径兼容相对路径
- 调度队列历史记录归入配置类管理
- 添加.gitignore
- 自动代理与人工排查结束后MAA恢复到全局配置 #40
- 网络相关操作由子线程执行
- request 添加超时限制
- 用户任务运行流程改进
- 自动代理中模拟器改由AUTO_MAA控制
- 修正部分配置项文案

## v4.3.1 - v4.3.3

### 修复BUG

- 更新逻辑修复

## v4.3.0

### 新增功能

- 正式接入`mirrorc`
- 添加用户仪表盘子界面
- 添加理智药设置选项 #34
- 添加每周剿灭模式上限功能
- 添加强制关闭ADB与模拟器等增强任务项
- 屏蔽MuMu模拟器开屏广告功能上线
- 更新器支持多线程下载

### 修复BUG

- 更新逻辑修复
- 对win10主题进一步适配
- 修复更新通知阻碍调度开始问题 #32
- 修复更新器解压失败问题
- 修复`检测到MAA未能实际执行任务`报错被异常屏蔽
- 修复MAA超时判定异常失效
- 修复密码显示按钮动画异常
- 修复统计信息HTML模板公招匹配错误

### 程序优化

- 获取关卡号，用户密码解密逻辑优化
- 输入对话框添加回车键确认能力 #35
- 用户列表UI改版升级
- 配置类取消单例限制
- 配置读取方式与界面渲染方法优化
- loguru开始捕获子线程异常
- 通知服务添加校验项
- 打包流程删除无用过程
- 主程序版本号完全写死在代码内部
- 更新信息样式优化
- 更新器支持动态获取下载站
- 公告样式优化
- 关机等电源操作添加100s倒计时
- 人工排查弹窗方法优化
- 人工排查时自动屏蔽静默操作

## v4.2.5

### 新增功能

- 历史记录统计功能上线
- 添加软件主页
- 添加启动时直接最小化功能
- 更新器拥有多网址测速功能
- 添加统计信息通知功能（含六星监测）

### 修复BUG

- RMA70-12不能正确统计的问题
- 更新器修正 channel

### 程序优化

- 添加MAA监测字段：未检测到任何模拟器
- 取消MAA运行中自动更新

## v4.2.4

### 新增功能

- 添加 简洁用户列表下相邻两个任务间的切换方式 可选项
- 恢复启动后直接运行主任务功能以及相关托盘菜单

### 修复BUG

- 修复静默代理标记移除异常情况
- 适配深色模式 #18

### 程序优化

- 优化MAA关闭方法
- 添加高级代理文件校验过程
- 升级日志监看方法
- 优化主调度台默认选项
- 配置MAA前关闭可能未正常退出的MAA进程
- 接入镜像源

## v4.2.3

### 新增功能

- 添加用户每日代理次数上限功能 #15
- 新增代理成功消息推送渠道Server酱与企业微信群机器人推送
- 添加更新类别可选项
- 添加调度队列完成任务后行为选项
- 初步完成“托管bilibili游戏隐私政策”功能 #19

### 修复BUG

- 修复自定义基建无法正常使用的问题
- 修正人工排查文案
- 修复高级MAA配置序号错位
- 修复高级用户列表无法配置问题
- 修复主调度台选项乱动问题
- 修复更新器文件夹定位问题
- 修复窗口记忆功能失效问题

### 程序优化

- 优化弹窗逻辑
- 优化静默判定逻辑
- 调整MAA设置目录时打开当前已配置的目录位置
- 邮箱推送功能调整，改由用户提供发信邮箱

## v4.2.2

### 新增功能

- 调度队列上线，支持 MAA 多开 #12
- 公告系统上线

### 修复 BUG

- 修复手机号码不全时引发的混乱
- 添加了一堆 BUG（确信）

### 程序优化

- 界面重构，引入 QFluentWidgets 美化界面

## v4.2.1

### 修复 BUG

- 同步 MAAv5.11.1-beta.1 的字段修改

## v4.2.0

### 新增功能

- 提供完整打包代码

### 修复 BUG

- 同步 MAAv5.11.1 的字段修改
- 清除自动化中无效的整合流程

### 程序优化

- 调整项目结构，模块化各功能组件
- 改用 nuitka 编译，压缩软件体积，提升运行速度
